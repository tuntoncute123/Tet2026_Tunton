# Supabase Setup Instructions

## 1. Environment Variables
Create a file named `.env` in the root of your project (`d:\Tet2026\.env`) and add your Supabase credentials:

```env
VITE_SUPABASE_URL=your_supabase_project_url
VITE_SUPABASE_ANON_KEY=your_supabase_anon_key
```

## 2. Database Tables
Run the following SQL in your Supabase SQL Editor to create the necessary tables:

### Table for Wishes (Lời chúc)
```sql
create table wishes (
  id bigint generated by default as identity primary key,
  created_at timestamp with time zone default timezone('utc'::text, now()) not null,
  name text not null,
  message text not null
);
```

### Table for Quiz Results (Kết quả trắc nghiệm)
```sql
create table quiz_results (
  id bigint generated by default as identity primary key,
  created_at timestamp with time zone default timezone('utc'::text, now()) not null,
  name text not null,
  score integer not null,
  total_questions integer default 4
);
```

## 3. Row Level Security (RLS)
Make sure to enable **Insert** access for public users if you want anyone to submit without logging in.
Run this SQL:

```sql
-- Allow public insert access to wishes
alter table wishes enable row level security;
create policy "Enable insert for all users" on wishes for insert with check (true);
create policy "Enable read for all users" on wishes for select using (true);

-- Allow public insert access to quiz_results
alter table quiz_results enable row level security;
create policy "Enable insert for all users" on quiz_results for insert with check (true);
create policy "Enable read for all users" on quiz_results for select using (true);
```
